import{_ as e,a as l,c as a,d as o,e as s,r as i,w as r,g as t,t as n,b as p,l as u,h as c,j as d,v as f,E as g}from"./index-51968b70.js";import{L as h}from"./loading-80f0889b.js";const m=e({},[["render",function(e,i){const r=l("font-awesome-icon");return a(),o("div",null,[s(r,{icon:"fa-solid fa-cloud-arrow-up"})])}],["__file","C:/Program Files/Workspace/it-req-fe/src/icons/common/uploadCloud.vue"]]),v={class:"el-upload__text"},_={class:"el-upload__tip"},z=e({__name:"UploadFiles",props:{size:{type:String,required:!0},plain:{type:Boolean},step:{type:String,required:!0}},emits:["get-children"],setup(e,{emit:z}){let b=i(!1),y=i(""),x=i(!0),O=i(!1);const S=e,w=z;S.size&&(y.value=S.size,"large"===S.size&&(x.value=!1));let k=i([]),j=i([]);const q=(e,l)=>{if(l.length){let a=[],o=0;const s=10485760;for(const[e,i]of Object.entries(l))a.push(i.name.replace(/.+\./,"")),o+=i.size;for(const e of a){if(!1===(-1===["exe","iso","zip","gzip","7z","rar","tar","wim"].indexOf(e.toLowerCase()))){for(g.error(u("It doesn't allow to attach .EXE or .ISO or compressed files"));l.length;)l.pop();for(;a.length;)a.pop();for(;k.value.length;)k.value.pop();for(;j.value.length;)j.value.pop();return!1}}if(o>s){for(g.error(u("Total file size should be less than 10MB"));l.length;)l.pop();for(;a.length;)a.pop();for(;k.value.length;)k.value.pop();for(;j.value.length;)j.value.pop();return!1}if(l.findIndex((l=>l.name===e.name))!==l.findLastIndex((l=>l.name===e.name)))return g.info(u("Duplicate file")),l.pop(),!1;k.value=JSON.parse(JSON.stringify(l)),j.value.push(e)}else j.value=[];w("get-children",j.value)},C=(e,l)=>{k.value=JSON.parse(JSON.stringify(l)),j.value.forEach(((l,a)=>{l.name===e.name&&j.value.splice(a,1)})),w("get-children",j.value)};return(e,i)=>{const g=l("el-upload");return a(),o("span",{id:"upload-container",class:f(p(y))},[s(g,{drag:"",multiple:"",action:"#","file-list":p(k),"auto-upload":!1,"on-change":q,"on-remove":C,class:f(p(O)?"is-disabled":""),disabled:p(O)},{tip:r((()=>[t("div",_,n(p(u)("Total file size should be less than 10MB")),1)])),default:r((()=>[p(b)?(a(),c(p(h),{key:0,class:"el-icon--upload","auto-height":!0})):(a(),c(p(m),{key:1,class:"el-icon--upload"})),t("div",v,[d(n(p(u)("Drop your files here, or"))+" ",1),t("em",null,n(p(u)("click to select files")),1)])])),_:1},8,["file-list","class","disabled"])],2)}}},[["__file","C:/Program Files/Workspace/it-req-fe/src/components/UploadFiles.vue"]]);export{z as U};
