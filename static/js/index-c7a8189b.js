import{_ as e,a as s,c as a,d as o,e as l,A as r,p as n,O as t,m as i,r as c,g as d,w as u,b as p,t as f,P as m,l as v,h as w,Q as g,R as y,j as _,C as h,D as k,G as C,E as I,S as P,T as q}from"./index-4ed6fded.js";const x=e({},[["render",function(e,r){const n=s("font-awesome-icon");return a(),o("div",null,[l(n,{icon:"fa-solid fa-user"})])}],["__file","C:/Program Files/Workspace/it-req-fe/src/icons/common/user.vue"]]);const V=e({},[["render",function(e,r){const n=s("font-awesome-icon");return a(),o("div",null,[l(n,{icon:"fa-solid fa-lock"})])}],["__file","C:/Program Files/Workspace/it-req-fe/src/icons/common/lock.vue"]]);const b=e({},[["render",function(e,r){const n=s("font-awesome-icon");return a(),o("div",null,[l(n,{icon:"fa-solid fa-eye"})])}],["__file","C:/Program Files/Workspace/it-req-fe/src/icons/common/eye.vue"]]);const F=e({},[["render",function(e,r){const n=s("font-awesome-icon");return a(),o("div",null,[l(n,{icon:"fa-solid fa-eye-slash"})])}],["__file","C:/Program Files/Workspace/it-req-fe/src/icons/common/eyeSlash.vue"]]),S=e=>(h("data-v-37dfd6fc"),e=e(),k(),e),W={class:"login-container columnCC"},j=S((()=>d("div",{class:"login-bg"},null,-1))),D={class:"login-pane"},Q=S((()=>d("div",{class:"login-logo"},null,-1))),K={class:"login-title-container"},U={class:"title text-center"},L={class:"rowSC"},O={class:"rowSC flex-1"},R={class:"tip-message"},z=e({__name:"index",setup(e){const h=r(),k=n();let S=t({userId:"",password:""}),z=t({otherQuery:{},redirect:void 0});i((()=>h.query),(e=>{e&&(z.redirect=e.redirect,z.otherQuery=(e=>Object.keys(e).reduce(((s,a)=>("redirect"!==a&&(s[a]=e[a]),s)),{}))(e))}),{immediate:!0});const A=c(!1),E=c(""),G=async()=>{const{userId:e,password:s}=S,a=!!e.trim().length,o=!!s.trim().length;switch(!0){case!a:return E.value="Please input user ID";case!o:return E.value="Please input password";default:await T()}},T=async()=>{A.value=!0,localStorage.setItem("userId",S.userId);const e=C();await e.login(S).then((()=>{I.success(v("Login successfully")),k.push({path:z.redirect||"/",query:z.otherQuery})})).catch((e=>{P(30).then((()=>{E.value="User ID or password is incorrect",A.value=!1}))}))},B=()=>E.value&&""!==E.value.trim()?E.value="":null,H=c("password"),J=c(null),M=()=>{H.value="password"===H.value?"":"password",q((()=>J.value.focus()))};return(e,r)=>{const n=s("el-input"),t=s("el-form-item"),i=s("el-button"),c=s("el-row"),h=s("el-form");return a(),o("div",W,[j,d("div",D,[Q,l(h,{class:"login-form",model:p(S)},{default:u((()=>[d("div",K,[d("h3",U,f(p(m).title),1)]),l(t,{prop:"userId"},{default:u((()=>[d("div",L,[l(p(x),{class:"icon-container"}),l(n,{modelValue:p(S).userId,"onUpdate:modelValue":r[0]||(r[0]=e=>p(S).userId=e),placeholder:p(v)("Please input user ID"),onKeyup:B},null,8,["modelValue","placeholder"])])])),_:1}),l(t,{prop:"password"},{default:u((()=>[d("div",O,[l(p(V),{class:"icon-container"}),(a(),w(n,{key:p(H),ref_key:"pwdRef",ref:J,modelValue:p(S).password,"onUpdate:modelValue":r[1]||(r[1]=e=>p(S).password=e),type:p(H),placeholder:p(v)("Please input password"),onKeyup:[B,g(G,["enter"])]},null,8,["modelValue","type","placeholder","onKeyup"])),d("span",{class:"show-pwd",onClick:M},[(a(),w(y("password"===p(H)?p(F):p(b))))])])])),_:1}),d("div",R,f(p(v)(p(E))),1),l(c,{class:"row-bg",justify:"center"},{default:u((()=>[l(i,{loading:p(A),type:"primary",size:"default",onClick:G},{default:u((()=>[_(f(p(v)("Login")),1)])),_:1},8,["loading"])])),_:1})])),_:1},8,["model"])])])}}},[["__scopeId","data-v-37dfd6fc"],["__file","C:/Program Files/Workspace/it-req-fe/src/views/login/index.vue"]]);export{z as default};
